@echo off
chcp 65001 > nul
echo.
echo ?????????????????????????????????????????????????????????????????
echo ?     ?? GitHub Release - Version 1.5.0 "Mobile Dashboard"     ?
echo ?????????????????????????????????????????????????????????????????
echo.

echo ?? Was wird gemacht:
echo    1. Alle Änderungen werden zu Git hinzugefügt
echo    2. Commit mit Release-Message
echo    3. Tag v1.5.0 wird erstellt
echo    4. Push zu GitHub (main branch + tag)
echo.

pause

echo.
echo [1/4] ?? Füge alle Änderungen hinzu...
git add .
if %errorlevel% neq 0 (
    echo ? Fehler beim Hinzufügen der Dateien!
    pause
    exit /b 1
)
echo ? Dateien hinzugefügt

echo.
echo [2/4] ?? Erstelle Commit...
git commit -m "Release v1.5.0 - Mobile Dashboard mit SignalR und QR-Code Verbindung"
if %errorlevel% neq 0 (
    echo ??  Kein Commit erstellt (möglicherweise keine Änderungen)
)
echo ? Commit erstellt

echo.
echo [3/4] ???  Erstelle Git Tag v1.5.0...
git tag -a v1.5.0 -m "Version 1.5.0 - Mobile Dashboard"
if %errorlevel% neq 0 (
    echo ? Fehler beim Erstellen des Tags!
    echo    Tag existiert möglicherweise bereits.
    echo    Lösche mit: git tag -d v1.5.0
    pause
    exit /b 1
)
echo ? Tag erstellt

echo.
echo [4/4] ?? Pushe zu GitHub...
echo    - Main Branch
git push origin main
if %errorlevel% neq 0 (
    echo ? Fehler beim Push des Branches!
    pause
    exit /b 1
)
echo ? Branch gepusht

echo    - Tag v1.5.0
git push origin v1.5.0
if %errorlevel% neq 0 (
    echo ? Fehler beim Push des Tags!
    pause
    exit /b 1
)
echo ? Tag gepusht

echo.
echo ?????????????????????????????????????????????????????????????????
echo ?                    ? RELEASE ERFOLGREICH!                    ?
echo ?????????????????????????????????????????????????????????????????
echo.
echo ?? Version 1.5.0 "Mobile Dashboard" ist jetzt auf GitHub!
echo.
echo ?? Nächste Schritte auf GitHub:
echo    1. Gehe zu: https://github.com/Elemirus1996/Einsatzueberwachung.Web
echo    2. Klicke auf "Releases"
echo    3. Klicke auf "Draft a new release"
echo    4. Wähle Tag: v1.5.0
echo    5. Titel: "Version 1.5.0 - Mobile Dashboard"
echo    6. Beschreibung: Kopiere aus RELEASE_V1.5.md
echo    7. Klicke "Publish release"
echo.
echo ?? Release Notes: RELEASE_V1.5.md
echo ?? Dokumentation: MOBILE_README.md
echo.

pause
